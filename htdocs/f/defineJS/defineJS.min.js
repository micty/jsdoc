/*! 
* defineJS
* version: 0.1.0
* build: 2016-11-11 16:11:56
* author: mictydeng@qq.com
* git: https://github.com/micty/defineJS
*/
!function(a){var b=function(){var a="guid-"+Math.random().toString().slice(2,6),b={};return{set:function(c,d){var e=c[a];return e||(e=c[a]=Math.random().toString().slice(2)),b[e]=d,d},get:function(c){var d=c[a];return d?b[d]:void 0},remove:function(c){var d=c[a];d&&(delete c[a],delete b[d])}}}(),c=function(a){function b(b){b=b||{seperator:"/",repeated:!1};var c={id$module:{},seperator:b.seperator,repeated:b.repeated};a.set(this,c)}return b.prototype={constructor:b,define:function(b,c){var d=a.get(this),e=d.id$module,f=d.repeated;if(!f&&e[b])throw new Error('配置设定了不允许定义重复的模块: 已存在名为 "'+b+'" 的模块');e[b]={factory:c,exports:null,required:!1,count:0,data:{}}},require:function(b,c){if("string"!=typeof b)throw new Error("参数 id 的类型必须为 string: "+typeof b);var d=a.get(this),e=d.seperator;if(c&&b.indexOf(e)>-1)throw new Error("参数明确指定了不允许跨级加载: "+b);var f=d.id$module,g=f[b];if(g){if(g.count++,g.required)return g.exports;g.required=!0;var h=g.factory;if("function"!=typeof h)return g.exports=h,h;var i=this,j={},k=function(a){return i.require(a,!0)},l={id:b,exports:j,require:function(a){if(a.indexOf(e)>-1)throw new Error("不允许跨级加载: "+a);return a=b+e+a,i.require(a)}};return j=h(k,l,j),void 0===j&&(j=l.exports),g.exports=j,j}},data:function(b,c){var d=a.get(this),e=d.id$module,f=e.data;if(!c)return f;if("object"!=typeof c)throw new Error("参数 data 非法: 如果要设置模块的自定义数据，请指定为一个 {} 对象。");for(var g in c)f[g]=c[g];return f},destroy:function(){a.remove(this)}},b}(b),d=new c,e=d.define.bind(d);e("Object",function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c]}return{extend:function(a,b,c){b&&"object"==typeof b&&d(a,b),c&&"object"==typeof c&&d(a,c);var e=3,f=arguments.length;if(e>=f)return a;for(var g=e;g<f;g++)d(a,arguments[g]);return a}}}),function(b,d){var e=new c;a.define=e.define.bind(e);var f={version:"0.1.0",create:function(a){return new c(a)},run:function(a){var b="";e.define(b,a),e.require(b)}};"function"==typeof b&&(b.amd||b.cmd)?b(function(a){return f}):a.defineJS=f}(a.define,d.require.bind(d))}("undefined"!=typeof window?window:this);